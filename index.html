<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Crack me pls!</title>
  <link rel="stylesheet" href="toggle.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
  <script>
    var request = new XMLHttpRequest();
    request.open('GET', './msg.txt', true);
    request.onload = function() {
    if (this.status >= 200 && this.status < 400) {
      var asciiciphertext = this.response;
    } else {
      alert('Getting an encrypted message failed.');
    }
    };
    request.onerror = function() {
      alert('Getting an encrypted message failed.');
    };
    request.send();
    function submit1(){
      var x = '';
      var sha256 = (x) => CryptoJS.SHA256(x).toString();
      for (let i=0; i<32; i++) {
        if (document.getElementById('toggle' + i).checked) {
          x += '1';
        } else {
          x += '0';
        }
      }
      var granted = sha256(x).slice(64-3)=='aaa';
      granted &= sha256(document.getElementById('name').value).slice(0,2)=='ee';
      x = sha256(document.getElementById('name').placeholder+document.getElementById('name').value).slice(0,3) + '-' + x;
      x += '-' + (document.getElementById('axis').value/1+String(submit1).length)%7;
      var password = x;
      x = window.location.host + '-' + x;
      granted &= sha256(x) == '9b70cd9ff32f8407c6436040bc5cfb0980c76ffe85f2ed1c9faa153b74f8071e';
      var time = new Date().toISOString().slice(11, 19);
      if (granted) {
        document.getElementById('access').innerText = time + ' Access granted.';
        if(typeof asciiciphertext !== 'undefined')
          document.getElementById('msg').innerHTML = CryptoJS.AES.decrypt(asciphertext, sha256(password)).toString(CryptoJS.enc.Utf8);
        else
          document.getElementById('msg').innerHTML = 'Getting an encrypted message failed.';
      } else {
        document.getElementById('access').innerText = time + ' Access denied.';
      }
    }
  </script>
</head>
<body>
  <article>
    <h1>Crack me</h1>
    <form action="javascript:submit1()">
      <input type="text" placeholder="What's your name?" id="name">
      <div>
        <input type="checkbox" id="toggle0" style="display:none" class="cbx">
        <label for="toggle0" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle1" style="display:none" class="cbx">
        <label for="toggle1" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle2" style="display:none" class="cbx">
        <label for="toggle2" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle3" style="display:none" class="cbx">
        <label for="toggle3" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle4" style="display:none" class="cbx">
        <label for="toggle4" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle5" style="display:none" class="cbx">
        <label for="toggle5" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle6" style="display:none" class="cbx">
        <label for="toggle6" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle7" style="display:none" class="cbx">
        <label for="toggle7" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle8" style="display:none" class="cbx">
        <label for="toggle8" class="toggle" style="clear: both;">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle9" style="display:none" class="cbx">
        <label for="toggle9" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle10" style="display:none" class="cbx">
        <label for="toggle10" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle11" style="display:none" class="cbx">
        <label for="toggle11" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle12" style="display:none" class="cbx">
        <label for="toggle12" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle13" style="display:none" class="cbx">
        <label for="toggle13" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle14" style="display:none" class="cbx">
        <label for="toggle14" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle15" style="display:none" class="cbx">
        <label for="toggle15" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle16" style="display:none" class="cbx">
        <label for="toggle16" class="toggle" style="clear: both;">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle17" style="display:none" class="cbx">
        <label for="toggle17" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle18" style="display:none" class="cbx">
        <label for="toggle18" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle19" style="display:none" class="cbx">
        <label for="toggle19" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle20" style="display:none" class="cbx">
        <label for="toggle20" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle21" style="display:none" class="cbx">
        <label for="toggle21" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle22" style="display:none" class="cbx">
        <label for="toggle22" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle23" style="display:none" class="cbx">
        <label for="toggle23" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle24" style="display:none" class="cbx">
        <label for="toggle24" class="toggle" style="clear: both;">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle25" style="display:none" class="cbx">
        <label for="toggle25" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle26" style="display:none" class="cbx">
        <label for="toggle26" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle27" style="display:none" class="cbx">
        <label for="toggle27" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle28" style="display:none" class="cbx">
        <label for="toggle28" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle29" style="display:none" class="cbx">
        <label for="toggle29" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle30" style="display:none" class="cbx">
        <label for="toggle30" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <input type="checkbox" id="toggle31" style="display:none" class="cbx">
        <label for="toggle31" class="toggle">
          <span><svg width="10px" height="10px" viewBox="0 0 10 10">
            <path d="M5,1 L5,1 C2.790861,1 1,2.790861 1,5 L1,5 C1,7.209139 2.790861,9 5,9 L5,9 C7.209139,9 9,7.209139 9,5 L9,5 C9,2.790861 7.209139,1 5,1 L5,9 L5,1 Z"></path>
          </svg></span>
        </label>
        <div style="clear: both;"></div>
        <input type="range" min="0" max="359" step="1" id="axis">
        <input type="button" onclick="submit1()" value="SUBMIT">
      </div>
    </form>
  </article>
  <article>
    <h2 id="access">You won't do this!</h2>
    <div id="msg"></div>
  </article>
</body>
</html>
